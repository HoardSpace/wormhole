!function(e){function t(r){if(i[r])return i[r].exports;var n=i[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){function r(){requestAnimationFrame(r);var e=y.getDelta();.001>e||(e>.1&&(e=.1),E.forEach(function(t){t.update(e)}),p.position.x>m?p.position.x=m:p.position.x<-m&&(p.position.x=-m),n())}function n(){_.render(p)}var o=i(11),a=i(4),s=i(5),c=i(6),h=i(7),d=i(10),u=document.querySelector("#container"),l=new o(1.4,5),p=new a(l),m=4*l.radius+l.throatLength,v=2*l.radius+l.throatLength;p.position.set(v,.5*Math.PI,0),p.rotateY(.5*-Math.PI);var E=[new s(p,u),new c(p,u)],y=new THREE.Clock,_=new h(u,l,m);r(),new d({renderer:_,playerControls:E,resetPlayer:function(){p.position.y=.5*Math.PI,p.quaternion.x=0,p.quaternion.z=0,p.quaternion.normalize()}})},function(e,t){function i(e,t){this.player=e,this.domElement=t,this.velocity=new THREE.Vector3,this.rotationSpeedX=0,this.rotationSpeedY=0,this.active=!1}i.prototype={update:function(e){this.active&&(this._updateOrientation(e),this._updateVelocity(e),this.velocity.lengthSq()>0&&this.player.move(this.velocity.clone().multiplyScalar(e)))}},e.exports=i},function(e,t){function i(e,t,i){THREE.Geometry.call(this),this._space=e,this._build(t,i)}function r(e,t){this._scene=new THREE.Scene,this._camera=new THREE.PerspectiveCamera(60,1,1,1e3),this._camera.up.set(0,0,1),this._limit=t,this._geometry=new i(e,-t,t);var r=new THREE.MeshBasicMaterial;this._player=new THREE.Object3D,this._dotMesh=new THREE.Mesh(new THREE.SphereGeometry(.1,32,32),r),this._player.add(this._dotMesh),this._directionMesh=new THREE.Mesh(new THREE.BoxGeometry(.1,.1,.4),r),this._directionMesh.position.z=-.2,this._player.add(this._directionMesh),this._scene.add(this._player);var n=new THREE.TextureLoader,o=n.load("textures/grid.png");o.anisotropy=4,o.wrapS=THREE.MirroredRepeatWrapping,o.wrapT=THREE.MirroredRepeatWrapping;var a=new THREE.ShaderMaterial({uniforms:{map:{type:"t",value:o}},vertexShader:["varying vec2 vCoordinate;","varying float vPixelPos;","void main() {","vCoordinate = uv;","vec4 vertex = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","vPixelPos = length(vertex.xy) / vertex.w;","gl_Position = vertex;","}"].join("\n"),fragmentShader:["uniform sampler2D map;","varying vec2 vCoordinate;","varying float vPixelPos;","void main() {","vec2 uv = vec2(","vCoordinate.x * 0.8,","vCoordinate.y * 4.0 * 0.15915494309",");","vec4 color = texture2D(map, uv);","color.rgb *= (1.0 - vPixelPos);","gl_FragColor = color;","}"].join("\n"),side:THREE.DoubleSide,blending:THREE.AdditiveBlending,transparent:!0,depthTest:!1});this._wormholeMesh=new THREE.Mesh(this._geometry,a),this._scene.add(this._wormholeMesh)}i.prototype=Object.create(THREE.Geometry.prototype),i.prototype._build=function(e,t){var i,r,n,o=80,a=32,s=(t-e)/o,c=2*Math.PI/a,h=[],d=[];for(i=0,n=0;a>=n;n++)for(r=0;o>=r;r++){var u=e+r*s,l=t+n*c;h[i]=new THREE.Vector2(u,l);var p=this.getPoint(u,l,p);this.vertices[i]=p;var m=this.getNormal(u,l,m);d[i]=m,i++}for(i=0,n=1;a>=n;n++)for(r=1;o>=r;r++){var v=(o+1)*n+r-1,E=(o+1)*(n-1)+r-1,y=(o+1)*(n-1)+r,_=(o+1)*n+r;this.faces[i]=new THREE.Face3(E,v,_,[d[E].clone(),d[v].clone(),d[_].clone()]),this.faceVertexUvs[0][i]=[h[E].clone(),h[v].clone(),h[_].clone()],i++,this.faces[i]=new THREE.Face3(E,_,y,[d[E].clone(),d[_].clone(),d[y].clone()]),this.faceVertexUvs[0][i]=[h[E].clone(),h[_].clone(),h[y].clone()],i++}this.computeFaceNormals(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this.uvsNeedUpdate=!0},i.prototype.getPoint=function(e,t){var i=Math.abs(e)-this._space.throatLength;if(i>=0){var r=Math.sqrt(i*i+this._space.radiusSquared),n=r/this._space.radius,o=new THREE.Vector3(r*Math.cos(t),r*Math.sin(t),this._space.throatLength+this._space.radius*Math.log(n+Math.sqrt(n*n-1)));return 0>e&&(o.z*=-1),o}return new THREE.Vector3(this._space.radius*Math.cos(t),this._space.radius*Math.sin(t),e)},i.prototype.getXTangent=function(e,t){var i=Math.max(Math.abs(e)-this._space.throatLength,0),r=new THREE.Vector3(i*Math.cos(t)*(0>e?-1:1),i*Math.sin(t)*(0>e?-1:1),this._space.radius);return r.normalize()},i.prototype.getNormal=function(e,t){var i=Math.abs(e)-this._space.throatLength;if(i>=0){var r=Math.sqrt(i*i+this._space.radiusSquared),n=new THREE.Vector3(i*Math.cos(t)*(0>e?-1:1),i*Math.sin(t)*(0>e?-1:1),this._space.radius);n.divideScalar(r);var o=new THREE.Vector3(-r*Math.sin(t),r*Math.cos(t),0);return(new THREE.Vector3).crossVectors(o,n).normalize()}return new THREE.Vector3(Math.cos(t),Math.sin(t),0)},r.prototype={setRatio:function(e){this._camera.aspect=e,this._camera.updateProjectionMatrix()},render:function(e,t){var i=this._geometry.getPoint(t.position.x,t.position.z),r=Math.sqrt(i.x*i.x+i.y*i.y),n=this._limit+1;this._camera.position.set(i.x/r*n,i.y/r*n,0),this._camera.lookAt(i),this._player.position.copy(i);var o=this._geometry.getNormal(t.position.x,t.position.z),a=this._geometry.getXTangent(t.position.x,t.position.z),s=(new THREE.Vector3).crossVectors(o,a),c=new THREE.Matrix4;c.elements[0]=o.x,c.elements[1]=o.y,c.elements[2]=o.z,c.elements[4]=a.x,c.elements[5]=a.y,c.elements[6]=a.z,c.elements[8]=s.x,c.elements[9]=s.y,c.elements[10]=s.z,this._player.quaternion.setFromRotationMatrix(c),this._player.rotateY(t.rotation.x),this._player.rotateX(t.rotation.y),e.render(this._scene,this._camera,null,!1)}},e.exports=r},function(e,t){var i={Matrix3:{subtract:function(e,t){for(var i=0;9>i;i++)e.elements[i]-=t.elements[i];return e},getInverse:function(e,t){var i=t.elements,r=e.elements,n=i[0],o=i[1],a=i[2],s=i[3],c=i[4],h=i[5],d=i[6],u=i[7],l=i[8],p=l*c-h*u,m=-l*s+h*d,v=u*s-c*d,E=n*p+o*m+a*v;if(!E)throw new Error("0 determinant");return r[0]=p,r[1]=-l*o+a*u,r[2]=h*o-a*c,r[3]=m,r[4]=l*n-a*d,r[5]=-h*n+a*s,r[6]=v,r[7]=-u*n+o*d,r[8]=c*n-o*s,e.multiplyScalar(1/E),e}}};e.exports=i},function(e,t){function i(e){THREE.Object3D.apply(this),this.space=e}i.prototype=Object.create(THREE.Object3D.prototype),i.prototype.move=function(e){var t=e.length();e=e.clone().normalize().applyQuaternion(this.quaternion),this.space.move(this,e,t)},e.exports=i},function(e,t,i){function r(e,t){function i(e){s.rotationSpeedX+=4*(e.movementX||e.mozMovementX||e.webkitMovementX||0),s.freeMovement&&(s.rotationSpeedY+=4*(e.movementY||e.mozMovementY||e.webkitMovementY||0))}function r(e){switch(s.active=!0,e.keyCode){case 65:s.moveLeft=!0;break;case 68:s.moveRight=!0;break;case 87:s.moveForward=!0;break;case 83:s.moveBackward=!0;break;case 82:s.moveUp=!0;break;case 70:s.moveDown=!0;break;case 81:s.rotateLeft=!0;break;case 69:s.rotateRight=!0}}function o(e){switch(e.keyCode){case 65:s.moveLeft=!1;break;case 68:s.moveRight=!1;break;case 87:s.moveForward=!1;break;case 83:s.moveBackward=!1;break;case 82:s.moveUp=!1;break;case 70:s.moveDown=!1;break;case 81:s.rotateLeft=!1;break;case 69:s.rotateRight=!1}}function a(){document.pointerLockElement===t||document.mozPointerLockElement===t||document.webkitPointerLockElement===t?document.addEventListener("mousemove",i,!1):document.removeEventListener("mousemove",i,!1),s.active=!0}n.apply(this,arguments);var s=this;this.moveForward=!1,this.moveBackward=!1,this.moveLeft=!1,this.moveRight=!1,this.moveUp=!1,this.moveDown=!1,this.rotateLeft=!1,this.rotateRight=!1,t.onclick=function(){t.requestPointerLock=t.requestPointerLock||t.mozRequestPointerLock||t.webkitRequestPointerLock,t.requestPointerLock()},document.addEventListener("pointerlockchange",a,!1),document.addEventListener("mozpointerlockchange",a,!1),document.addEventListener("webkitpointerlockchange",a,!1),document.addEventListener("keydown",r,!1),document.addEventListener("keyup",o,!1)}var n=i(1);r.prototype=Object.create(n.prototype),r.prototype._updateOrientation=function(e){this.rotationSpeedX-=4*this.rotationSpeedX*e,this.rotationSpeedY-=4*this.rotationSpeedY*e;var t=new THREE.Vector3(this.rotationSpeedX*e,-this.rotationSpeedY*e,100);t.normalize();var i=new THREE.Quaternion;i.setFromUnitVectors(new THREE.Vector3(0,0,1),t),this.player.quaternion.multiply(i),this.freeMovement&&(this.rotateLeft&&(i.setFromAxisAngle(new THREE.Vector3(0,0,1),e),this.player.quaternion.multiply(i)),this.rotateRight&&(i.setFromAxisAngle(new THREE.Vector3(0,0,1),-e),this.player.quaternion.multiply(i)))},r.prototype._updateVelocity=function(e){this.velocity.set(0,0,0),this.moveForward&&this.velocity.add(new THREE.Vector3(0,0,1)),this.moveBackward&&this.velocity.add(new THREE.Vector3(0,0,-1)),this.moveLeft&&this.velocity.add(new THREE.Vector3(-1,0,0)),this.moveRight&&this.velocity.add(new THREE.Vector3(1,0,0)),this.freeMovement&&(this.moveUp&&this.velocity.add(new THREE.Vector3(0,1,0)),this.moveDown&&this.velocity.add(new THREE.Vector3(0,-1,0))),this.velocity.lengthSq()>0&&this.velocity.normalize()},e.exports=r},function(e,t,i){function r(e,t){function i(e){h.active=!0;for(var t,i=0;i<e.changedTouches.length;i++)t=e.changedTouches[i],d[t.identifier]={start:{x:t.clientX,y:t.clientY},previous:{x:t.clientX,y:t.clientY},current:{x:t.clientX,y:t.clientY}}}function r(e){var i=d[e.identifier];h.rotationSpeedX-=4*(i.current.x-i.previous.x)/t.clientHeight}function o(e){var i=d[e.identifier],r=-4*(i.current.y-i.start.y)/t.clientHeight;h._targetVelocity.set(0,0,r),u[e.identifier]=!0}function a(e){delete u[e.identifier],0===Object.keys(u).length&&h._targetVelocity.set(0,0,0)}function s(e){for(var t,i,n=0;n<e.changedTouches.length;n++){t=e.changedTouches[n],i=d[t.identifier],i.previous=i.current,i.current={x:t.clientX,y:t.clientY};var s=i.current.x-i.start.x,c=i.current.y-i.start.y;Math.abs(s)>Math.abs(c)?(r(t),a(t)):o(t)}}function c(e){for(var t,i=0;i<e.changedTouches.length;i++)t=e.changedTouches[i],delete d[t.identifier],a(t)}n.apply(this,arguments);var h=this,d={},u={};this._targetVelocity=new THREE.Vector3,t.addEventListener("contextmenu",function(e){e.preventDefault()},!1),t.addEventListener("touchstart",i,!1),t.addEventListener("touchmove",s,!1),t.addEventListener("touchend",c,!1),t.addEventListener("touchcancel",c,!1)}var n=i(1);r.prototype=Object.create(n.prototype),r.prototype._updateOrientation=function(e){var t=this.player;this.rotationSpeedX-=4*this.rotationSpeedX*e,this.rotationSpeedY-=4*this.rotationSpeedY*e;var i=new THREE.Vector3(this.rotationSpeedX*e,-this.rotationSpeedY*e,1);i.normalize();var r=new THREE.Quaternion;r.setFromUnitVectors(new THREE.Vector3(0,0,1),i),t.quaternion.multiply(r)},r.prototype._updateVelocity=function(e){this.velocity.copy(this._targetVelocity)},e.exports=r},function(e,t,i){function r(e,t,i){this._webglRenderer=new THREE.WebGLRenderer,this._webglRenderer.autoClear=!1,this.showDiagram=!0,e.appendChild(this._webglRenderer.domElement),this._container=e,this._space=t,this._sceneRenderer=new n(t,this._getWidth(),this._getHeight()),this._scaledRenderer=new o(this._getWidth(),this._getHeight(),this._getPixelSize()),this._diagramRenderer=new a(t,i),this.resize()}var n=i(9),o=i(8),a=i(2);r.prototype={_getWidth:function(){return this._container.clientWidth},_getHeight:function(){return this._container.clientHeight},_getPixelSize:function(){return parseInt(document.querySelector("[name=resolution]:checked").value)},updatePixelSize:function(){this._scaledRenderer.setPixelSize(this._getPixelSize())},render:function(e){this._webglRenderer.setViewport(0,0,this._getWidth(),this._getHeight()),this._sceneRenderer.render(this._webglRenderer,e,this._scaledRenderer.renderTarget),this._scaledRenderer.render(this._webglRenderer),this.showDiagram&&(this._webglRenderer.setViewport(0,0,this._getWidth()/3,this._getHeight()/3),this._webglRenderer.clearDepth(),this._diagramRenderer.render(this._webglRenderer,e))},resize:function(){var e=this._getWidth(),t=this._getHeight();this._webglRenderer.setSize(e,t),this._sceneRenderer.setSize(e,t),this._scaledRenderer.setSize(e,t),this._diagramRenderer.setRatio(e/t)}},e.exports=r},function(e,t){function i(e,t,i){this._width=e,this._height=t,this._pixelSize=i,this.renderTarget=new THREE.WebGLRenderTarget(Math.floor(e/i),Math.floor(t/i),{minFilter:THREE.LinearFilter,magFilter:THREE.LinearFilter,format:THREE.RGBFormat}),this._camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this._scene=new THREE.Scene;var r=new THREE.BufferGeometry,n=new THREE.BufferAttribute(new Float32Array([-1,-1,-1,1,1,1,-1,-1,1,1,1,-1]),2);r.addAttribute("position",n);var o=new THREE.RawShaderMaterial({uniforms:{tRendered:{type:"t",value:this.renderTarget}},vertexShader:["precision highp float;","attribute vec2 position;","varying vec2 vUv;","void main() {","vUv = position * 0.5 + 0.5;","gl_Position = vec4(position, 0.0, 1.0);","}"].join("\n"),fragmentShader:["precision highp float;","varying vec2 vUv;","uniform sampler2D tRendered;","void main() {","gl_FragColor = texture2D(tRendered, vUv);","}"].join("\n"),side:THREE.DoubleSide}),a=new THREE.Mesh(r,o);this._scene.add(a)}i.prototype={setSize:function(e,t){this._width=e,this._height=t,this.renderTarget.setSize(Math.floor(this._width/this._pixelSize),Math.floor(this._height/this._pixelSize))},setPixelSize:function(e){this._pixelSize=e,this.renderTarget.setSize(Math.floor(this._width/this._pixelSize),Math.floor(this._height/this._pixelSize))},render:function(e){e.render(this._scene,this._camera)}},e.exports=i},function(e,t){function i(e,t,i){function r(e,t){t=t||"jpg";var i=["sky_pos_x","sky_neg_x","sky_pos_y","sky_neg_y","sky_pos_z","sky_neg_z"].map(function(i){return e+i+"."+t}),r=n.load(i);return r.format=THREE.RGBFormat,r}this._aspectFix=new THREE.Matrix4;var n=new THREE.CubeTextureLoader;this._uniforms={uRadiusSquared:{type:"f",value:e.radiusSquared},uThroatLength:{type:"f",value:e.throatLength},uSkybox1:{type:"t",value:r("textures/skybox1/")},uSkybox2:{type:"t",value:r("textures/skybox2/")},uCameraPosition:{type:"v3",value:new THREE.Vector3},uCameraOrientation:{type:"m4",value:new THREE.Matrix4}},this._camera=new THREE.OrthographicCamera(-1,1,1,-1,0,1),this._scene=new THREE.Scene;var o=new THREE.BufferGeometry,a=new THREE.BufferAttribute(new Float32Array([-1,-1,-1,1,1,1,-1,-1,1,1,1,-1]),2);o.addAttribute("position",a);var s=new THREE.RawShaderMaterial({uniforms:this._uniforms,vertexShader:document.getElementById("vertexShader").textContent,fragmentShader:document.getElementById("fragmentShader").textContent,side:THREE.DoubleSide}),c=new THREE.Mesh(o,s);this._scene.add(c)}i.prototype={render:function(e,t,i){this._uniforms.uCameraPosition.value.copy(t.position),this._uniforms.uCameraOrientation.value.makeRotationFromQuaternion(t.quaternion),this._uniforms.uCameraOrientation.value.multiply(this._aspectFix),e.render(this._scene,this._camera,i)},setSize:function(e,t){this._renderWidth=e,this._renderHeight=t;var i,r;e>t?(i=e/t,r=1):(i=1,r=t/e),this._aspectFix.set(i,0,0,0,0,r,0,0,0,0,2,0,0,0,0,1)}},e.exports=i},function(e,t){function i(e){function t(){return c.checked}function i(){e.renderer.resize()}function r(e){c.blur(),t()?document.body.classList.add("no-ui"):document.body.classList.remove("no-ui"),a(),o()}function n(e){e.target.href||(document.querySelector("#introduction").classList.add("hidden"),i(),document.removeEventListener("click",n,!1),document.removeEventListener("touch",n,!1))}function o(){var i=t();i||e.resetPlayer(),e.playerControls.forEach(function(e){e.freeMovement=i})}function a(){e.renderer.showDiagram=!t()}function s(t){e.renderer.updatePixelSize(),t.target.blur()}var c=document.querySelector("[name=hide-ui]");c.addEventListener("change",r,!1),window.addEventListener("resize",i,!1),document.addEventListener("click",n,!1),document.addEventListener("touch",n,!1),document.querySelector(".renderer-settings").addEventListener("change",s,!1),r()}e.exports=i},function(e,t,i){function r(e,t){this.radius=e,this.radiusSquared=e*e,this.throatLength=t}var n=i(3);r.prototype={adjustCartesianDirection:function(e,t){var i=Math.max(0,Math.abs(e.x)-this.throatLength),r=Math.sqrt(i*i+this.radiusSquared);t.y/=r,t.z/=r*Math.sin(e.y)},adjustSphericalDirection:function(e,t){var i=Math.max(0,Math.abs(e.x)-this.throatLength),r=Math.sqrt(i*i+this.radiusSquared);t.y*=r,t.z*=r*Math.sin(e.y)},step:function(){var e=new THREE.Vector3,t=new THREE.Vector3,i=new THREE.Vector3,r=new THREE.Vector3,o=new THREE.Matrix3,a=new THREE.Matrix3,s=new THREE.Vector3,c=new THREE.Matrix3,h=new THREE.Matrix3,d=new THREE.Matrix3,u=new THREE.Vector3,l=new THREE.Vector3,p=new THREE.Matrix3,m=new THREE.Matrix3;return function(v,E,y){var _=v.position,f=Math.max(0,Math.abs(_.x)-this.throatLength),g=this.radiusSquared,w=_.x/Math.abs(_.x)*f,R=_.y,x=E.x,T=E.y,M=E.z,H=w*w,S=T*T,b=M*M,k=Math.sin(R),z=Math.cos(R),L=Math.sin(2*R),V=Math.cos(2*R),q=k*k,P=z*k,C=1/Math.tan(R),F=1/k,D=g,j=1/(D+w*w),X=j*j;if(r.set(w*(S+q*b),-2*w*x*T*j+P*b,-2*w*x*M*j-2*C*T*M),o.set(0,2*T*w,2*M*w*q,-2*T*w*j,-2*x*w*j,M*L,-2*M*w*j,-2*M*C,-2*x*w*j-2*T*C),a.set(S+b*q,b*w*L,0,2*x*T*(H-D)*X,b*V,0,2*x*M*(H-D)*X,2*T*M*F*F,0),p.identity(),n.Matrix3.subtract(p,o.multiplyScalar(y)),n.Matrix3.subtract(p,a.multiplyScalar(y*y)),n.Matrix3.getInverse(m,p),t.copy(r).addScaledVector(E.clone().applyMatrix3(a),y).multiplyScalar(y),t.applyMatrix3(m),e.copy(E.clone().add(t).multiplyScalar(y)),v.__tetrad)for(var Y=0;2>Y;Y++){var O=v.__tetrad[Y],B=O.x,U=O.y,A=O.z;s.set(w*(T*U+q*M*A),-w*(x*U+B*T)*j+P*M*A,-w*(x*A+B*M)*j-C*(T*A+U*M)),c.set(0,w*U,w*A*q,-w*U*j,-w*B*j,A*P,-w*A*j,-A*C,-w*B*j-U*C),h.set(T*U+M*A*q,M*w*A*L,0,(T*B+x*U)*(H-D)*X,M*A*V,0,(M*B+x*A)*(H-D)*X,(M*U+T*A)*F*F,0),d.set(0,T*w,M*w*q,-T*w*j,-x*w*j,M*P,-M*w*j,-M*C,-x*w*j-T*C),p.identity(),n.Matrix3.subtract(p,d.multiplyScalar(y)),n.Matrix3.getInverse(m,p),u.copy(e).applyMatrix3(h),l.copy(t).applyMatrix3(c),i.copy(s).add(u).add(l).multiplyScalar(y).applyMatrix3(m),O.add(i)}E.add(t),_.add(e)}}(),quaternionToTetrad:function(){var e=new THREE.Matrix4;return function(t,i){e.makeRotationFromQuaternion(t),i[0].set(e.elements[0],e.elements[1],e.elements[2]),i[1].set(e.elements[4],e.elements[5],e.elements[6])}}(),tetradToQuaternion:function(){var e=new THREE.Matrix4;return function(t,i){t[2].crossVectors(t[0],t[1]);for(var r=0;3>r;r++)t[r].normalize();e.elements[0]=t[0].x,e.elements[1]=t[0].y,e.elements[2]=t[0].z,e.elements[4]=t[1].x,e.elements[5]=t[1].y,e.elements[6]=t[1].z,e.elements[8]=t[2].x,e.elements[9]=t[2].y,e.elements[10]=t[2].z,i.setFromRotationMatrix(e).normalize()}}(),move:function(e,t,i){this.adjustCartesianDirection(e.position,t),e.quaternion&&(e.__tetrad||(e.__tetrad=[new THREE.Vector3,new THREE.Vector3,new THREE.Vector3]),this.quaternionToTetrad(e.quaternion,e.__tetrad),this.adjustCartesianDirection(e.position,e.__tetrad[0]),this.adjustCartesianDirection(e.position,e.__tetrad[1])),this.step(e,t,i),this.adjustSphericalDirection(e.position,t),e.quaternion&&(this.adjustSphericalDirection(e.position,e.__tetrad[0]),this.adjustSphericalDirection(e.position,e.__tetrad[1]),this.tetradToQuaternion(e.__tetrad,e.quaternion)),e.position.z=e.position.z%(2*Math.PI)}},e.exports=r}]);